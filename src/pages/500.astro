---
import Layout from '#/layouts/BaseLayout.astro'

interface Props {
    error: unknown
}

const { error } = Astro.props
---

<Layout title="Server Error">
    <div class="relative min-h-screen bg-white dark:bg-gray-950">
        <!-- Decorative gradient -->
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute -inset-[10px] opacity-50">
                <div class="absolute top-0 h-[40rem] w-full bg-gradient-to-b from-brand-500/10 dark:from-brand-500/20 via-transparent to-transparent"></div>
            </div>
        </div>

        <div class="relative flex min-h-screen flex-col items-center justify-center px-4 py-32">
            <!-- 500 Content -->
            <div class="text-center relative z-10">
                <p class="text-2xl font-bold text-brand-600 dark:text-brand-400">500</p>
                <h1 class="mt-4 text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-4xl">Server Error</h1>
                <p class="mt-6 text-lg leading-7 text-gray-600 dark:text-gray-300">
                    {error instanceof Error ? error.message : 'Something went wrong on our end. Please try again later.'}
                </p>
                <div class="mt-10 flex items-center justify-center gap-x-4">
                    <button
                        id="backButton"
                        class="min-w-[160px] rounded-lg bg-brand-600 dark:bg-brand-500 px-5 py-2.5 text-sm font-semibold text-white transition-all duration-200 hover:bg-brand-700 dark:hover:bg-brand-600 hover:shadow-lg hover:shadow-brand-500/20 focus:outline-none focus:ring-2 focus:ring-brand-400/50 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-950"
                    >
                        Go back
                    </button>
                    <a
                        href="/docs"
                        class="min-w-[160px] text-center rounded-lg border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 px-5 py-2.5 text-sm font-semibold text-gray-900 dark:text-gray-200 transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-brand-500/30 hover:text-brand-600 dark:hover:text-brand-400 hover:shadow-lg hover:shadow-brand-500/10 focus:outline-none focus:ring-2 focus:ring-brand-400/50 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-950"
                    >
                      Documentation
                    </a>
                </div>
            </div>

            <!-- Decorative 500 background -->
            <div class="absolute select-none pointer-events-none overflow-hidden w-full text-center">
                <h2 class="text-[16rem] sm:text-[24rem] font-bold text-gray-100 dark:text-brand-900/20">500</h2>
            </div>
        </div>
    </div>
</Layout>

<script>
  const backButton = document.getElementById('backButton');
  backButton?.addEventListener('click', () => {
    if (window.history.length > 1) {
      window.history.back();
    } else {
      window.location.href = '/';
    }
  });
</script>
